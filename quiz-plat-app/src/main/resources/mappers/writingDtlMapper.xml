<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="com.quiz.mapper.writingDtlMapper">
 
 	<select id="getTextWritingList" resultType="writingDtlDto">
		SELECT  W.FIR_WRIT_CONTENT
      		  , W.SEC_WRIT_CONTENT
      		  , W.FIR_VOTE_NO
      		  , W.SEC_VOTE_NO
      	   	  , W.FIR_VOTE_NO + W.SEC_VOTE_NO 'SUM_VOTE'
      	   	  , (
					SELECT COUNT(C.WRITING_NO)
					FROM   COMMENT C
					WHERE  1 = 1
					AND    C.WRITING_NO = W.WRITING_NO
	            ) SUM_COMMENT
		FROM    WRITING W
		WHERE   1 = 1
    </select>
    
</mapper>